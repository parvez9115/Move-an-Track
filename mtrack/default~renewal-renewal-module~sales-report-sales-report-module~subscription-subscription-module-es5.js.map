{"version":3,"sources":["./src/app/delar-application/subscription/renewal/renewal.page.html","./src/app/delar-application/subscription/renewal/renewal.page.scss","./src/app/delar-application/subscription/renewal/renewal.page.ts"],"names":[],"mappings":"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","file":"default~renewal-renewal-module~sales-report-sales-report-module~subscription-subscription-module-es5.js","sourcesContent":["module.exports = \"\\r\\n<ion-content >\\r\\n  <ion-row>\\r\\n    <ion-col size=\\\"2\\\">\\r\\n      <ion-icon name=\\\"arrow-back\\\" (click)=\\\"getBack()\\\"></ion-icon>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"8\\\" style=\\\"font-size: 20px;background-color:#7c68f8;color:white\\\"> Subscription renewal</ion-col>\\r\\n  </ion-row>\\r\\n  <ion-grid>\\r\\n    <form class='formPadding' [formGroup]=\\\"subscription\\\">\\r\\n<ion-row>\\r\\n  <ion-col  class=\\\"wrapper-container\\\">\\r\\n   <ion-item>\\r\\n      <ion-icon name=\\\"phone-portrait\\\" class=\\\"renewal-icon\\\" slot=\\\"start\\\" ></ion-icon>\\r\\n      <ion-input formControlName=\\\"imeiNo\\\" type=\\\"number\\\" placeholder=\\\"IMEI No\\\" readonly></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-icon name=\\\"time\\\" class=\\\"renewal-icon\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-input  id=\\\"today\\\" formControlName=\\\"todayDate\\\"   [type]=\\\"typeSetter\\\" (click)=\\\"focusType()\\\" ></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"6\\\"  style=\\\"text-align: center;margin: auto;\\\">\\r\\n        <ion-button shape=\\\"round\\\" (click)=\\\"sendBtn()\\\">Submit</ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n</form>\\r\\n\\r\\n\\r\\n  <!-- <ion-row>\\r\\n    <ion-col  class=\\\"wrapper-container\\\">\\r\\n     <ion-item>\\r\\n        <ion-icon name=\\\"phone-portrait\\\" class=\\\"renewal-icon\\\" slot=\\\"start\\\" ></ion-icon>\\r\\n        <ion-input  type=\\\"number\\\" placeholder=\\\"IMEI No\\\" ></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-icon name=\\\"time\\\" class=\\\"renewal-icon\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-input  id=\\\"today\\\" type=\\\"date\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"6\\\"  style=\\\"text-align: center;margin: auto;\\\">\\r\\n          <ion-button shape=\\\"round\\\" (click)=\\\"sendBtn()\\\">Submit</ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-col>\\r\\n  </ion-row> -->\\r\\n\\r\\n</ion-grid>\\r\\n</ion-content>\\r\\n\"","module.exports = \".wrapper-container {\\n  border: 1px solid #f6f6f6;\\n}\\n\\nion-item {\\n  border: 1px solid #eaf5f4;\\n  margin: 5px 0px;\\n  border-radius: 5px;\\n}\\n\\n.btn {\\n  --background:#7c68f8;\\n  width: 50%;\\n}\\n\\nion-input {\\n  --placeholder-color:darkgray;\\n  color: gray;\\n}\\n\\n.renewal-icon {\\n  color: #7c68f8;\\n  border-right: 1px solid #f6f6f6;\\n  padding-right: 5px;\\n}\\n\\n@media only screen and (min-width: 320px) and (max-width: 766px) {\\n  .wrapper-container {\\n    padding: 1em 5px;\\n  }\\n}\\n\\n@media only screen and (min-width: 767px) and (max-width: 1010px) {\\n  .wrapper-container {\\n    padding: 1em;\\n  }\\n}\\n\\n@media only screen and (min-width: 1011px) {\\n  .wrapper-container {\\n    padding: 2em 1em;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVsYXItYXBwbGljYXRpb24vc3Vic2NyaXB0aW9uL3JlbmV3YWwvRDpcXEFUUy1Gcm9udGVuZC1XZWItR2l0L3NyY1xcYXBwXFxkZWxhci1hcHBsaWNhdGlvblxcc3Vic2NyaXB0aW9uXFxyZW5ld2FsXFxyZW5ld2FsLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZGVsYXItYXBwbGljYXRpb24vc3Vic2NyaXB0aW9uL3JlbmV3YWwvcmVuZXdhbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURDQTtFQUNDLG9CQUFBO0VBQ0MsVUFBQTtBQ0VGOztBREFBO0VBQ0ksNEJBQUE7RUFDQSxXQUFBO0FDR0o7O0FEREE7RUFDSSxjQUFBO0VBQ0EsK0JBQUE7RUFDQSxrQkFBQTtBQ0lKOztBRERBO0VBQ0k7SUFDQyxnQkFBQTtFQ0lIO0FBQ0Y7O0FEREE7RUFDSTtJQUNDLFlBQUE7RUNHSDtBQUNGOztBREFBO0VBQ0k7SUFDQyxnQkFBQTtFQ0VIO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9kZWxhci1hcHBsaWNhdGlvbi9zdWJzY3JpcHRpb24vcmVuZXdhbC9yZW5ld2FsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi53cmFwcGVyLWNvbnRhaW5lcntcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNmNmY2ZjY7XHJcbiAgICAvLyBwYWRkaW5nOjNlbSA1ZW07XHJcbn1cclxuaW9uLWl0ZW17XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWFmNWY0O1xyXG4gICAgbWFyZ2luOiA1cHggMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcbi5idG57XHJcbiAtLWJhY2tncm91bmQ6IzdjNjhmODtcclxuICB3aWR0aDo1MCU7XHJcbiAgfVxyXG5pb24taW5wdXR7XHJcbiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOmRhcmtncmF5O1xyXG4gICAgY29sb3I6Z3JheTtcclxufVxyXG4ucmVuZXdhbC1pY29ue1xyXG4gICAgY29sb3I6IzdjNjhmODtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmNmY2ZjY7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XHJcbn1cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQobWluLXdpZHRoOjMyMHB4KWFuZChtYXgtd2lkdGg6NzY2cHgpe1xyXG4gICAgLndyYXBwZXItY29udGFpbmVye1xyXG4gICAgIHBhZGRpbmc6MWVtIDVweDtcclxuICAgIH0gXHJcblxyXG59XHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQobWluLXdpZHRoOjc2N3B4KWFuZChtYXgtd2lkdGg6MTAxMHB4KXtcclxuICAgIC53cmFwcGVyLWNvbnRhaW5lcntcclxuICAgICBwYWRkaW5nOjFlbSA7XHJcbiAgICB9IFxyXG5cclxufVxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kKG1pbi13aWR0aDoxMDExcHgpe1xyXG4gICAgLndyYXBwZXItY29udGFpbmVye1xyXG4gICAgIHBhZGRpbmc6MmVtIDFlbTtcclxuICAgIH0gXHJcblxyXG59IiwiLndyYXBwZXItY29udGFpbmVyIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2Y2ZjZmNjtcbn1cblxuaW9uLWl0ZW0ge1xuICBib3JkZXI6IDFweCBzb2xpZCAjZWFmNWY0O1xuICBtYXJnaW46IDVweCAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLmJ0biB7XG4gIC0tYmFja2dyb3VuZDojN2M2OGY4O1xuICB3aWR0aDogNTAlO1xufVxuXG5pb24taW5wdXQge1xuICAtLXBsYWNlaG9sZGVyLWNvbG9yOmRhcmtncmF5O1xuICBjb2xvcjogZ3JheTtcbn1cblxuLnJlbmV3YWwtaWNvbiB7XG4gIGNvbG9yOiAjN2M2OGY4O1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZjZmNmY2O1xuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG59XG5cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMzIwcHgpIGFuZCAobWF4LXdpZHRoOiA3NjZweCkge1xuICAud3JhcHBlci1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDFlbSA1cHg7XG4gIH1cbn1cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY3cHgpIGFuZCAobWF4LXdpZHRoOiAxMDEwcHgpIHtcbiAgLndyYXBwZXItY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAxZW07XG4gIH1cbn1cbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTAxMXB4KSB7XG4gIC53cmFwcGVyLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMmVtIDFlbTtcbiAgfVxufSJdfQ== */\"","import { Message } from '@angular/compiler/src/i18n/i18n_ast';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport { AjaxService } from '../../../services/ajax.service';\r\nimport { serverUrl } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-renewal',\r\n  templateUrl: './renewal.page.html',\r\n  styleUrls: ['./renewal.page.scss'],\r\n})\r\nexport class RenewalPage implements OnInit {\r\n  @Input()value;\r\n  field;\r\n  date;\r\n  typeSetter = \"text\";\r\n  subscription;\r\n  data: any;\r\n  \r\n  \r\n  constructor(\r\n    \r\n    public modalController:ModalController,\r\n    public alertController:AlertController,\r\n    private formBuilder: FormBuilder,\r\n    private commonService:CommonService,\r\n    private ajaxService: AjaxService,\r\n    ) { }\r\n    getBack(){\r\n      this.modalController.dismiss();\r\n  }\r\n  focusType(){\r\n    this.typeSetter=\"Date\";\r\n  }\r\n  sendBtn(){\r\n    console.log(this.subscription); \r\n    if(this.subscription.status == \"VALID\" ){\r\n      const url = serverUrl.web + '/global/updateExpirydate';\r\n      var data={ \r\n        imeiNo:this.subscription.value.imeiNo,\r\n        warrantyExpiryDate:this.subscription.value.todayDate\r\n      }\r\n      this.ajaxService.ajaxPostMethod(url,data).subscribe(res=>{\r\n        console.log(res);\r\n        var respData=JSON.parse(res);\r\n        if(respData.message == \"Success\"){\r\n          this.modalController.dismiss();\r\n          this.commonService.presentToast('Successfully Updated');\r\n        }else{\r\n          this.commonService.presentToast('Please tryagain');\r\n        }\r\n        \r\n      })  \r\n    \r\n    }\r\n    else {\r\n      this.commonService.presentToast('Please complete the form');\r\n      console.log('Please complete the form');\r\n    }\r\n   \r\n  }\r\n  async subscriptionAlert(){\r\n    this.modalController.dismiss();\r\n        const alert = await this.alertController.create({\r\n          header: 'Are you sure?',\r\n          backdropDismiss: false,\r\n          message:\"You want to renew your subscription!\",\r\n          buttons: [{\r\n            text: 'No',\r\n            role: 'cancel',\r\n            handler: data => {\r\n              localStorage.setItem(\"exitPopup\", \"false\")\r\n\r\n            },\r\n          },\r\n          {\r\n            text: 'Yes',\r\n            // handler: data => {\r\n            //   navigator['app'].exitApp(); \r\n            // }\r\n          }]\r\n        });\r\n        await alert.present();\r\n     // }\r\n     \r\n   // }); \r\n  }\r\n \r\n  \r\n  ngOnInit() {\r\n  this.field = document.querySelector('#today');\r\n  this.date = new Date();\r\n// Set the date\r\n    this.field.value = (this.date.getFullYear()+1).toString() + '-' + (this.date.getMonth() + 1).toString().padStart(2, 0) + \r\n    '-' + this.date.getDate().toString().padStart(2, 0);\r\n    this.subscription = this.formBuilder.group({\r\n      imeiNo:[this.value,Validators.required],\r\n      todayDate:[this.field.value,Validators.required]\r\n    })\r\n    \r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}