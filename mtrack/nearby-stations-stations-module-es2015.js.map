{"version":3,"sources":["./src/app/nearby/stations/stations.page.html","./src/app/nearby/stations/stations.module.ts","./src/app/nearby/stations/stations.page.scss","./src/app/nearby/stations/stations.page.ts"],"names":[],"mappings":"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","file":"nearby-stations-stations-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar [ngClass]=\\\"{'appHeader' : appName != 'Armoron' , 'header-background-color': appName == 'Armoron'}\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-icon name=\\\"arrow-back\\\" (click)=\\\"locationBack()\\\"  class=\\\"icon-size\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n    <ion-title style=\\\"text-align:left\\\">{{headerText}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content padding>\\r\\n  <ion-card *ngFor=\\\"let values of resultantNearByPlaceDetails\\\">\\r\\n    <ion-card-header>\\r\\n      <ion-card-subtitle style=\\\"font-weight:bold;\\\">{{values.vicinity}}</ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>{{values.name}}\\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"2\\\">\\r\\n            <ion-img (click)=\\\"locationSelected(values.name,values.vicinity)\\\" src=\\\"assets/Armoron/direction.png\\\">\\r\\n            </ion-img>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"2\\\">\\r\\n            <ion-img (click)=\\\"contactSelected(values.place_id)\\\" src=\\\"assets/Armoron/contact.png\\\"></ion-img>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"8\\\" style=\\\"text-align:right\\\">\\r\\n            <ion-img [src]=\\\"values.status\\\" style=\\\"width: 40%;margin-left: 44%;margin-bottom: -20px;margin-top: -16px;\\\">\\r\\n            </ion-img>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { StationsPage } from './stations.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StationsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [StationsPage]\r\n})\r\nexport class StationsPageModule {}\r\n","module.exports = \".icon-size {\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmVhcmJ5L3N0YXRpb25zL0Q6XFxBVFMtRnJvbnRlbmQtV2ViLUdpdC9zcmNcXGFwcFxcbmVhcmJ5XFxzdGF0aW9uc1xcc3RhdGlvbnMucGFnZS5zY3NzIiwic3JjL2FwcC9uZWFyYnkvc3RhdGlvbnMvc3RhdGlvbnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvbmVhcmJ5L3N0YXRpb25zL3N0YXRpb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLXNpemUge1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgLy9wYWRkaW5nOiA5cHg7XHJcbn0iLCIuaWNvbi1zaXplIHtcbiAgZm9udC1zaXplOiAxOHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Network } from '@capacitor/core';\r\nimport { AjaxService } from 'src/app/services/ajax.service';\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport { app, serverUrl } from 'src/environments/environment';\r\nimport { Location } from '@angular/common';\r\n@Component({\r\n  selector: 'app-stations',\r\n  templateUrl: './stations.page.html',\r\n  styleUrls: ['./stations.page.scss'],\r\n})\r\nexport class StationsPage implements OnInit {\r\n  proxyCROS = \"https://cors-anywhere.herokuapp.com/\";\r\n  //proxyCROS = \"https://github.com/Rob--W/cors-anywhere/\";\r\n  searchType;\r\n  headerText;\r\n  searchUrl;\r\n  resultantNearByPlaceDetails;\r\n  isOnline = true;\r\n  lat;\r\n  lng;\r\n  nearbyType;\r\n  paramVin;\r\n  key;\r\n  appName: string;\r\n  constructor(\r\n    public commonService: CommonService,\r\n    public ajaxService: AjaxService,\r\n    public activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n  ) { }\r\n  calcDist = function (destLat, destLng) {\r\n    const radlat1 = Math.PI * this.lat / 180;\r\n    const radlat2 = Math.PI * destLat / 180;\r\n    const theta = this.lng - destLng;\r\n    const radtheta = Math.PI * theta / 180\r\n    let dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n    if (dist > 1) {\r\n      dist = 1;\r\n    }\r\n    dist = Math.acos(dist)\r\n    dist = dist * 180 / Math.PI\r\n    dist = dist * 60 * 1.1515\r\n    dist = dist * 1.609344;\r\n    return dist\r\n  };\r\n  getPlaceDetails = (type) => {\r\n    // const url = serverUrl.web + '/login/getPreferences?key=armoronNearByKey&companyId=\"\"'\r\n   // this.ajaxService.ajaxGetPerference(url)\r\n     // .subscribe(res => {\r\n    //     let headerType;\r\n    //     if (type === \"Fuel\") {\r\n    //       this.searchType = \"gas_station\";\r\n    //       this.searchUrl = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + this.lat + ',' + this.lng + '&radius=7000&type=' + this.searchType + '&key=' + res[0] + '&sensor=true';\r\n    //       //   { Old Key : AIzaSyA7SR8EayaN2qjiaUZbH9hUBz1G1VZy3sk}\r\n    //     } else if (type === \"Vehicle Repair\") {\r\n    //       this.searchType = \"car_repair\";\r\n    //       this.searchUrl = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + this.lat + ',' + this.lng + '&radius=7000&type=' + this.searchType + '&keyword=Automobiles|Bikes|Mechanic&key=' + res[0] + '&sensor=true';\r\n    //     } else if (type === \"Police Station\") {\r\n    //       this.searchType = \"police\";\r\n    //       this.searchUrl = 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + this.lat + ',' + this.lng + '&radius=7000&type=' + this.searchType + '&key=' + res[0] + '&sensor=true';\r\n    //     }\r\n\r\n\r\n    //     this.commonService.presentLoader();\r\n    //  //  let senderData = this.proxyCROS + this.searchUrl;\r\n    //     let senderData = this.searchUrl;\r\n    //     this.ajaxService.ajaxGet(senderData)\r\n    //       .subscribe(res => {\r\n          \r\n    //         this.commonService.dismissLoader();\r\n    //         // this.commonService.presentToast(res)\r\n    //         this.setResultantPlaceDetails(res);\r\n            \r\n    //       }, err => {\r\n    //         console.log(err);\r\n    //         this.commonService.dismissLoader();\r\n    //         // this.commonService.presentToast(err)\r\n    //       });\r\n    //   });\r\n\r\n      if (type === \"Fuel\") {\r\n        this.searchType = \"gas_station\";\r\n      } else if (type === \"Vehicle Repair\") {\r\n        this.searchType = \"car_repair\";\r\n      } else if (type === \"Police Station\") {\r\n        this.searchType = \"police\";\r\n      }\r\n      var googleUrl = serverUrl.web + '/login/nearby/'+this.lat+'/'+this.lng+'/'+this.searchType; \r\n      this.commonService.presentLoader();\r\n      this.ajaxService.ajaxGet(googleUrl).subscribe(res=>{\r\n        // console.log(res)\r\n        this.commonService.dismissLoader();\r\n        this.setResultantPlaceDetails(res);\r\n      })\r\n\r\n  }\r\n\r\n  locationBack() {\r\n    this.location.back()\r\n  \r\n  }\r\n\r\n  setResultantPlaceDetails = (res) => {\r\n    //console.log(res);\r\n    this.resultantNearByPlaceDetails = res;\r\n    let resultedArray = [];\r\n    if (res.status == 'OVER_QUERY_LIMIT' || res.status == \"REQUEST_DENIED\") {\r\n      this.commonService.presentAlert('Alert', 'Something went wrong');\r\n      this.headerText = this.nearbyType;\r\n      this.key[this.nearbyType][0]['results'] = null;\r\n      this.key[this.nearbyType][0]['status'] = null;\r\n      this.key[this.nearbyType][0]['updater'] = false;\r\n      localStorage.setItem(this.paramVin, JSON.stringify(this.key));\r\n    } else {\r\n      for (var x = 0; x < res.results.length; x++) {\r\n        res.results[x] = {\r\n          \"geometry\": res.results[x].geometry,\r\n          \"name\": res.results[x].name,\r\n          \"place_id\": res.results[x].place_id,\r\n          \"vicinity\": res.results[x].vicinity,\r\n          \"opening_hours\": res.results[x].opening_hours\r\n        };\r\n        // if(!res.results[x].hasOwnProperty('opening_hours')){\r\n        //   res.results[x].status = \"assets/notava.png\";\r\n        // }else{\r\n        //   switch(res.results[x].opening_hours.open_now){\r\n        //     case true:\r\n        //     res.results[x].status = \"assets/open.png\";\r\n        //     case false:\r\n        //     res.results[x].status = \"assets/close.png\";\r\n        //     default : \r\n        //     res.results[x].status = \"assets/notava.png\";\r\n        //   }\r\n        if (res.results[x].hasOwnProperty(\"opening_hours\") && res.results[x].opening_hours) {\r\n          if (Object.keys(res.results[x].opening_hours).length == 0) {\r\n            res.results[x].status = \"assets/notava.png\";\r\n          } else if (res.results[x]['opening_hours']['open_now'] == true) {\r\n            res.results[x].status = \"assets/open.png\"\r\n          } else {\r\n            res.results[x].status = \"assets/close.png\";\r\n          }\r\n        } else {\r\n          res.results[x].status = \"assets/notava.png\";\r\n        }\r\n        //    } \r\n      }\r\n      let response = {\r\n        \"status\": res.status,\r\n        \"results\": res.results\r\n      };\r\n      Object.assign(this.key[this.nearbyType][0], response);\r\n      this.headerText = this.nearbyType;\r\n      this.key[this.nearbyType][0]['updater'] = true;\r\n      localStorage.setItem(this.paramVin, JSON.stringify(this.key))\r\n    }\r\n    this.resultantNearByPlaceDetails = res.results;\r\n    this.commonService.dismissLoader();\r\n  }\r\n\r\n  checkStatus = function (obj) {\r\n    let img;\r\n    if (!obj.hasOwnProperty('opening_hours') || Object.keys(obj).length == 0) {\r\n      img = \"assets/notava.png\";\r\n    } else {\r\n      if (obj.hasOwnProperty('opening_hours').open_now == true) {\r\n        img = \"assets/open.png\"\r\n      } else {\r\n        img = \"assets/close.png\";\r\n      }\r\n    }\r\n\r\n  }\r\n  locationSelected = function (placeName, placeAddress) {\r\n    const latlong = this.lat + ',' + this.lng;\r\n    window.location.href = 'https://www.google.com/maps/dir/?api=1&origin=' + latlong + '&destination=' + placeName + ',' + placeAddress + '&travelmode=driving';\r\n  }\r\n  contactSelected = function (placeId) {\r\n    this.commonService.presentLoader();\r\n    \r\n       // const url = \"https://maps.googleapis.com/maps/api/place/details/json?key='\" + \"AIzaSyA1Imewe0nOi5KoTk9thUxblLdQ-JeB6VQ\"+ \"'&placeid='\" + placeId;\r\n       const url = serverUrl.web +'/login/placeid/'+placeId\r\n       this.ajaxService.ajaxGet(url) \r\n          .subscribe(res => {\r\n            this.commonService.dismissLoader();\r\n            let phoneNumber = res.result.formatted_phone_number;\r\n            if (res.status == 'OVER_QUERY_LIMIT' || phoneNumber == 'OVER_QUERY_LIMIT') {\r\n              this.commonService.presentAlert('Alert', 'Something went wrong');\r\n            }\r\n            if (phoneNumber === undefined) {\r\n              this.commonService.presentAlert('Alert', 'Sorry,Contact is Not Available');\r\n            }\r\n            else {\r\n              window.location.href = \"tel:\" + phoneNumber;\r\n            }\r\n          }, err => {\r\n            console.log(err);\r\n            this.commonService.dismissLoader();\r\n          });\r\n      \r\n   \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ngOnInit() {\r\n\r\n  \r\n      let selectedVin = JSON.parse(localStorage.getItem('selectedVin'));\r\n      this.paramVin = selectedVin.vin\r\n      this.appName = app.appName\r\n      this.lat = selectedVin.latitude\r\n      this.lng = selectedVin.longitude\r\n      this.nearbyType = this.activatedRoute.snapshot.paramMap.get('type');\r\n      if (this.key == null) {\r\n        this.key = {};\r\n        this.key[this.nearbyType] = [{ \"prevLatlng\": this.lat + ',' + this.lng }];\r\n        this.getPlaceDetails(this.nearbyType);\r\n      } else if (this.key[this.nearbyType] == undefined || this.key[this.nearbyType][0]['results'] == null) {\r\n        this.key[this.nearbyType] = [{ \"prevLatlng\": this.lat + ',' + this.lng }];\r\n        this.getPlaceDetails(this.nearbyType);\r\n      }\r\n      else if (this.key !== null && this.key[this.nearbyType][0]['prevLatlng'] == this.lat + ',' + this.lng && this.key[this.nearbyType][0]['updater'] == true) {\r\n        this.setResultantPlaceDetails(this.key[this.nearbyType][0]);\r\n      } else {\r\n        this.key[this.nearbyType][0].prevLatlng = this.lat + ',' + this.lng;\r\n        this.getPlaceDetails(this.nearbyType);\r\n      }\r\n    \r\n   \r\n    \r\n  }\r\n}\r\n"],"sourceRoot":""}