{"version":3,"sources":["./src/app/reports/reports-form/reports-form.page.html","./src/app/reports/reports-form/reports-form.module.ts","./src/app/reports/reports-form/reports-form.page.scss","./src/app/reports/reports-form/reports-form.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,8L;;;;;;;;;;;;;;;;;;;;;;ACAyC;AACM;AACQ;AACS;AACnB;AAES;AAEtD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF,CAAC;AAgBF;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QAdjC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,kEAAmB;gBACnB,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,OAAO,EAAE;gBACP,0DAAW;gBACX,kEAAmB;aACpB;YACD,YAAY,EAAE,EAAE;SACjB,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;AC7BlC,+BAA+B,mBAAmB,oBAAoB,GAAG,oBAAoB,mBAAmB,sBAAsB,qCAAqC,GAAG,eAAe,gBAAgB,GAAG,6CAA6C,+iC;;;;;;;;;;;;;;;;;ACAzL;AAOpE,2DAA2D;AAU3D;IACA;IAEA,CAAC;IACD,kCAAQ,GAAR;IAEA,CAAC;IANY,eAAe;QAT3B,+DAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,oKAAuC;;SAExC,CAAC;QACF,iCAAiC;QACjC,6BAA6B;QAC7B,kCAAkC;QAClC,KAAK;;;OACQ,eAAe,CA6Q3B;IAAD,sBAAC;CAAA;AA7Q2B","file":"reports-reports-form-reports-form-module-es5.js","sourcesContent":["module.exports = \"<ion-content>\\r\\n  <app-vts-report-form [shownContent]=\\\"shownContent\\\" [reportName]=\\\"reportName\\\" [plateNo]=\\\"plateNo\\\" ></app-vts-report-form>\\r\\n</ion-content>\\r\\n\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms'\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ReportsFormPage } from './reports-form.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReportsFormPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: []\r\n})\r\nexport class ReportsFormPageModule {}\r\n","module.exports = \".reportInfo {\\n  color: #c1c1d2;\\n  font-size: 14px;\\n}\\n\\n.reportContent {\\n  color: #3d3333;\\n  font-weight: bold;\\n  border-bottom: 1px solid #c1c1d2;\\n}\\n\\n.maxWidth {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnRzLWZvcm0vRDpcXEFUUy1Gcm9udGVuZC1XZWItR2l0L3NyY1xcYXBwXFxyZXBvcnRzXFxyZXBvcnRzLWZvcm1cXHJlcG9ydHMtZm9ybS5wYWdlLnNjc3MiLCJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0cy1mb3JtL3JlcG9ydHMtZm9ybS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQ0NGOztBRENBO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0NBQUE7QUNFRjs7QURBQTtFQUNFLFdBQUE7QUNHRiIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0cy1mb3JtL3JlcG9ydHMtZm9ybS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmVwb3J0SW5mbyB7XHJcbiAgY29sb3I6ICNjMWMxZDI7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcbi5yZXBvcnRDb250ZW50IHtcclxuICBjb2xvcjogIzNkMzMzMztcclxuICBmb250LXdlaWdodDogYm9sZDtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2MxYzFkMjtcclxufVxyXG4ubWF4V2lkdGh7XHJcbiAgd2lkdGg6MTAwJVxyXG59XHJcbiIsIi5yZXBvcnRJbmZvIHtcbiAgY29sb3I6ICNjMWMxZDI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnJlcG9ydENvbnRlbnQge1xuICBjb2xvcjogIzNkMzMzMztcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzFjMWQyO1xufVxuXG4ubWF4V2lkdGgge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\nimport { FormBuilder, Validators, FormControlName, FormGroup } from '@angular/forms';\r\nimport { IonicSelectableComponent } from 'ionic-selectable';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { AjaxService } from '../../services/ajax.service';\r\n//import { serverUrl } from 'src/environments/environment';\r\n@Component({\r\n  selector: 'app-reports-form',\r\n  templateUrl: './reports-form.page.html',\r\n  styleUrls: ['./reports-form.page.scss'],\r\n})\r\n// const customPopoverOptions = {\r\n//   header: 'Select Device',\r\n//   message: 'Only select Device'\r\n// };\r\nexport class ReportsFormPage implements OnInit {\r\nconstructor(){\r\n\r\n}\r\nngOnInit(){\r\n  \r\n}\r\n  // constructor(\r\n  //   private formBuilder: FormBuilder,\r\n  //   private modalController: ModalController,\r\n  //   private ajaxService: AjaxService,\r\n  //   private router: Router,\r\n  //   private activatedRoute: ActivatedRoute,\r\n  //   private commonService: CommonService,\r\n  // ) {\r\n\r\n  // }\r\n  // @Input() shownContent: any;\r\n  // @Input() reportName: string;\r\n  // @Input() plateNo: string;\r\n\r\n  // @ViewChild('selectComponent', { static: false }) selectComponent: IonicSelectableComponent;\r\n\r\n  // data = [];\r\n  // reports: any;\r\n  // reportsContent: any;\r\n  // reportsTitle: string;\r\n  // liveData: any;\r\n  // dashboarData: Array<object>;\r\n  // vin: string;\r\n  // today = new Date();\r\n  // yesterday = new Date(this.today.setDate(this.today.getDate() - 1));\r\n  // maxDate;\r\n  // onsubmit() {\r\n  //   const body: object = {};\r\n  //   let mode: string;\r\n  //   let router: string;\r\n  //   switch (this.reportsTitle) {\r\n  //     case \"Overall summary report\":\r\n  //       if (this.vin == undefined) {\r\n  //         this.commonService.presentToast('Please select the vehicle')\r\n  //       } else {\r\n  //         this.commonService.presentLoader();\r\n  //         body[\"vin\"] = this.vin;\r\n  //         body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //         body[\"toDate\"] = this.reports.value.toDate.split(\"T\")[0];\r\n  //         body[\"companyId\"] = localStorage.corpId;\r\n  //         body[\"userId\"] = localStorage.userName;\r\n  //         mode = \"/api/vts/company/assets/report/executiveSummary\";\r\n  //         router = \"overallSummaryReport\";\r\n  //       }\r\n  //       // body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       // body[\"toDate\"] = this.reports.value.toDate.split(\"T\")[0];\r\n  //       // mode = \"/api/vts/company/assets/report/overAllSummary\";\r\n  //       // router = \"overallSummaryReport\";\r\n  //       break;\r\n\r\n  //     case \"Trip summary report\":\r\n  //       if (this.vin == undefined) {\r\n  //         this.commonService.presentToast('Please select the vehicle')\r\n  //       } else {\r\n  //         body[\"vin\"] = this.vin;\r\n  //         this.commonService.presentLoader();\r\n  //       }\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0] + \" \" + this.reports.value.fromTime;\r\n  //       body[\"toDate\"] = this.reports.value.toDate.split(\"T\")[0] + \" \" + this.reports.value.toTime;\r\n  //       mode = \"/api/vts/company/assets/report/tripBasedSummary\";\r\n  //       router = \"tripSummaryReport\";\r\n  //       break;\r\n\r\n  //     case \"Executive summary report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"toDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"companyId\"] = localStorage.corpId;\r\n  //       body[\"userId\"] = localStorage.userName;\r\n  //       mode = \"/api/vts/company/assets/report/executiveSummary\";\r\n  //       router = \"executiveSummaryReport\";\r\n  //       break;\r\n\r\n  //     case \"Driver behaviour report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"toDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"companyId\"] = localStorage.corpId;\r\n  //       body[\"userId\"] = localStorage.userName;\r\n  //       mode = \"/api/vts/company/assets/report/driverBehaviour\";\r\n  //       router = \"driverBehavior\";\r\n  //       break;\r\n\r\n  //     case \"Status summary report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fromdata\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"todate\"] = this.reports.value.toDate.split(\"T\")[0];\r\n  //       body[\"companyID\"] = localStorage.corpId;\r\n  //       body[\"userID\"] = localStorage.userName;\r\n  //       body[\"branchID\"] = localStorage.corpId;\r\n  //       body[\"showAddress\"] = \"false\";\r\n  //       body[\"currentDate\"] = \"No\";\r\n  //       mode = \"/api/vts/company/assets/report/statussummary\";\r\n  //       router = \"statusSummary\";\r\n  //       break;\r\n\r\n  //     case \"Alert report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"toDate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"userId\"] = localStorage.userName;\r\n  //       body[\"address\"] = false;\r\n  //       body[\"vin\"] = \"All\"\r\n  //       mode = \"/api/vts/company/branch/user/mobileAlert\";\r\n  //       router = \"alertReport\";\r\n  //       break;\r\n\r\n  //     case \"Overspeed duration report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fdate\"] = this.reports.value.fromDate.split(\"T\")[0];\r\n  //       body[\"tdate\"] = this.reports.value.toDate.split(\"T\")[0];\r\n  //       body[\"userID\"] = localStorage.userName;\r\n  //       mode = \"/api/vts/company/branch/assets/reports/overspeed\";\r\n  //       router = \"overspeedReport\";\r\n  //       break;\r\n\r\n  //     case \"Speed report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0] + ' 00:00:00 AM';\r\n  //       body[\"toDate\"] = this.reports.value.fromDate.split(\"T\")[0] + ' 11:59:59 PM';\r\n  //       body[\"userId\"] = localStorage.userName;\r\n  //       body['speed'] = this.reports.value.speed.toString();\r\n  //       if (this.reports.value.condition == \"\") {\r\n  //         body['condition'] = '<';\r\n  //       } else {\r\n  //         body['condition'] = this.reports.value.condition;\r\n  //       }\r\n  //       //%7B\"vin\":\"art630\",\"fromDate\":\"2020-02-15%2000:00:00%20AM\",\"toDate\":\"2020-02-15%2011:59:59%20PM\",\"userId\":\"art-ca\",\"speed\":\"0\",\"condition\":\">\"%7D\r\n  //       mode = \"/api/vts/company/assets/report/speed\";\r\n  //       router = \"speedReport\";\r\n  //       break;\r\n\r\n  //     case \"Movement report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0] + ' ' + \"00:00:00\";\r\n  //       body[\"toDate\"] = this.reports.value.fromDate.split(\"T\")[0] + ' ' + \"23:59:59\";\r\n  //       body[\"userID\"] = localStorage.userName;\r\n  //       body[\"branchID\"] = localStorage.corpId;\r\n  //       body[\"companyID\"] = localStorage.corpId;\r\n  //       body['seconds'] = this.reports.value.timeExceed;\r\n  //       body['showAddress'] = \"True\";\r\n  //       body['newreport'] = \"\";\r\n  //       mode = \"/api/vts/company/assets/report/movement\";\r\n  //       router = \"movementReport\";\r\n  //       break;\r\n\r\n  //     case \"Temprature report\":\r\n  //       this.commonService.presentLoader();\r\n  //       body[\"vin\"] = this.vin;\r\n  //       body[\"fromDate\"] = this.reports.value.fromDate.split(\"T\")[0] + ' ' + this.reports.value.fromTime;\r\n  //       body[\"toDate\"] = this.reports.value.fromDate.split(\"T\")[0] + ' ' + this.reports.value.toTime;\r\n  //       body[\"userID\"] = localStorage.userName;\r\n  //       body[\"branchID\"] = localStorage.corpId;\r\n  //       body[\"companyID\"] = localStorage.corpId;\r\n  //       body[\"tempType\"] = this.reports.value.sensorType;\r\n  //       body[\"errorCode\"] = \"{}\";\r\n  //       body[\"tempSign\"] = this.reports.value.condition;\r\n  //       body['tempValue'] = this.reports.value.limit.toString();\r\n  //       body['seconds'] = this.reports.value.timeExceed;\r\n  //       body['newreport'] = \"\";\r\n  //       mode = \"/api/vts/company/assets/report/temperature\";\r\n  //       router = \"temprature\";\r\n  //       break;\r\n  //   }\r\n\r\n  //   this.ajaxService.ajaxReportServices(mode, body, router, this.successCallback);\r\n  //   // this.router.navigateByUrl(\"reports/All/temprature\");\r\n  //   // this.getBack();\r\n  // }\r\n\r\n  // successCallback = (res: any, outputRouter: string) => {\r\n  //   let validation: boolean = false;\r\n  //   if (typeof (res) == \"object\" && Object.keys(res).length > 0 && !Array.isArray(res)) {\r\n  //     if (outputRouter == \"overallSummaryReport\") {\r\n  //       for (let i = 0; i < res.summary.length; i++) {\r\n  //         if (res.summary[i][\"duration\"] !== \"0:00:00:00\") {\r\n  //           validation = true;\r\n  //           break;\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   } else if (res.length > 0) {\r\n  //     validation = true;\r\n  //   }\r\n  //   if (validation) {\r\n  //     this.router.navigateByUrl(\"reports/\" + this.plateNo + \"/\" + outputRouter);\r\n  //     localStorage.setItem('reportsData', JSON.stringify(res));\r\n  //     this.getBack();\r\n  //   } else {\r\n  //     this.commonService.presentToast('No data available');\r\n  //   }\r\n  //   this.commonService.dismissLoader();\r\n  // }\r\n\r\n  // getBack() {\r\n  //   this.modalController.dismiss();\r\n  // }\r\n  // portChange = (event: {\r\n  //   component: IonicSelectableComponent,\r\n  //   value: any\r\n  // }) => {\r\n  //   this.vin = event.value.vin;\r\n  // }\r\n  // ngOnInit() {\r\n  //   this.maxDate = this.yesterday.getFullYear() + \"-\";\r\n  //   this.maxDate += (this.yesterday.getMonth() + 1 < 10 ? \"0\" + (this.yesterday.getMonth() + 1).toString() : (this.yesterday.getMonth() + 1).toString()) + \"-\";\r\n  //   this.maxDate += this.yesterday.getDate() < 10 ? \"0\" + this.yesterday.getDate().toString() : this.yesterday.getDate().toString();\r\n  //   this.liveData = JSON.parse(localStorage.dashboardData).liveDatas;\r\n  //   this.dashboarData = Object.values(this.liveData);\r\n  //   let loopArray = []\r\n  //   for (let i = 0; i < this.dashboarData.length; i++) {\r\n  //     let loopData: any = this.dashboarData[i];\r\n  //     if (loopData.warrantyExpiry == true) {\r\n  //       loopArray.push(loopData)\r\n  //     }\r\n  //   }\r\n  //   this.data = loopArray\r\n  //   this.reportsContent = {\r\n  //     plateNo: false,\r\n  //     fromDate: false,\r\n  //     fromTime: false,\r\n  //     toDate: false,\r\n  //     toTime: false,\r\n  //     speed: false,\r\n  //     condition: false,\r\n  //     timeExceed: false,\r\n  //     sensor: false\r\n  //   };\r\n  //   this.reportsTitle = this.reportName;\r\n  //   Object.assign(this.reportsContent, this.shownContent)\r\n  //   this.reports = this.formBuilder.group({\r\n  //     plateNo: [''],\r\n  //     fromDate: ['', Validators.required],\r\n  //     fromTime: ['00:00:00'],\r\n  //     toDate: [''],\r\n  //     toTime: [this.yesterday.toTimeString().split(\" \")[0]],\r\n  //     speed: ['50', Validators.max(100)],\r\n  //     condition: ['>'],\r\n  //     timeExceed: ['900'],\r\n  //     sensor: [\"2\"],\r\n  //     limit: [\"2\"],\r\n  //     sensorType: [\"TEMP1\"],\r\n  //   });\r\n  //   if (this.plateNo !== \"null\") {\r\n  //     this.reports.patchValue({ 'plateNo': this.plateNo });\r\n  //     this.vin = JSON.parse(localStorage.selectedVin).vin;\r\n  //   } else {\r\n  //     if (this.reportsTitle == \"Executive summary report\" || this.reportsTitle == 'Driver behaviour report') {\r\n  //       this.vin = \"All\";\r\n  //     }\r\n  //   }\r\n  //   if (this.yesterday.getDate() < 10) {\r\n\r\n  //   }\r\n  // }\r\n\r\n}\r\n"],"sourceRoot":""}