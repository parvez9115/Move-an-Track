{"version":3,"sources":["./src/app/delar-application/stock-uploader/stock-uploader.page.html","./src/app/delar-application/stock-uploader/stock-uploader-routing.module.ts","./src/app/delar-application/stock-uploader/stock-uploader.module.ts","./src/app/delar-application/stock-uploader/stock-uploader.page.scss","./src/app/delar-application/stock-uploader/stock-uploader.page.ts"],"names":[],"mappings":"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","file":"stock-uploader-stock-uploader-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"md\\\" class=\\\"dealerHeader\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Stock Uploader</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"uploaderContent\\\">\\r\\n  <ion-row class=\\\"uploaderRow\\\">\\r\\n    <form [formGroup]=\\\"stockform\\\">\\r\\n      <ion-card class=\\\"cardCenter\\\">\\r\\n        <ion-card-content>\\r\\n          <ion-row style=\\\"padding: 0px\\\">\\r\\n            <ion-col\\r\\n              size=\\\"12\\\"\\r\\n              size-sm=\\\"12\\\"\\r\\n              size-lg=\\\"6\\\"\\r\\n              size-md=\\\"12\\\"\\r\\n              class=\\\"ion-text-center\\\"\\r\\n            >\\r\\n              <input\\r\\n                type=\\\"file\\\"\\r\\n                (change)=\\\"onFileChange($event)\\\"\\r\\n                formControlName=\\\"fileupload\\\"\\r\\n            /></ion-col>\\r\\n            <ion-col\\r\\n              size=\\\"12\\\"\\r\\n              size-sm=\\\"12\\\"\\r\\n              size-lg=\\\"6\\\"\\r\\n              size-md=\\\"12\\\"\\r\\n              class=\\\"ion-text-center\\\"\\r\\n              ><ion-button\\r\\n                (click)=\\\"sendToServer()\\\"\\r\\n                id=\\\"submitbtn\\\"\\r\\n                [disabled]=\\\"!stockform.valid\\\"\\r\\n                >Submit\\r\\n              </ion-button>\\r\\n              <ion-button\\r\\n                (click)=\\\"reset()\\\"\\r\\n                [disabled]=\\\"!stockform.valid\\\"\\r\\n                id=\\\"submitbtn\\\"\\r\\n                >Clear\\r\\n              </ion-button></ion-col\\r\\n            >\\r\\n          </ion-row>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </form>\\r\\n  </ion-row>\\r\\n  <jqxGrid\\r\\n    *ngIf=\\\"show\\\"\\r\\n    #myGrid\\r\\n    [editable]=\\\"false\\\"\\r\\n    [theme]=\\\"'material'\\\"\\r\\n    [width]=\\\"'99%'\\\"\\r\\n    [autoheight]=\\\"true\\\"\\r\\n    [source]=\\\"dataAdapter\\\"\\r\\n    [sortable]=\\\"true\\\"\\r\\n    [filterable]=\\\"true\\\"\\r\\n    [columns]=\\\"columns\\\"\\r\\n    [columnsresize]=\\\"true\\\"\\r\\n    [enabletooltips]=\\\"true\\\"\\r\\n    [pageable]=\\\"true\\\"\\r\\n    [showfilterrow]=\\\"true\\\"\\r\\n    style=\\\"\\r\\n      font-size: 16px;\\r\\n      text-align: center !important;\\r\\n      margin: 5px;\\r\\n      cursor: pointer;\\r\\n    \\\"\\r\\n  >\\r\\n    >\\r\\n  </jqxGrid>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { StockUploaderPage } from './stock-uploader.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StockUploaderPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class StockUploaderPageRoutingModule {}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\n\r\nimport { IonicModule } from \"@ionic/angular\";\r\n\r\nimport { StockUploaderPageRoutingModule } from \"./stock-uploader-routing.module\";\r\nimport { SharedModModule } from \"../../shared-mod/shared-mod.module\";\r\n// import { jqxGridModule } from 'jqwidgets-ng/jqxgrid';\r\nimport { StockUploaderPage } from \"./stock-uploader.page\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModModule,\r\n    ReactiveFormsModule,\r\n    // jqxGridModule,\r\n    StockUploaderPageRoutingModule,\r\n  ],\r\n  declarations: [StockUploaderPage],\r\n})\r\nexport class StockUploaderPageModule {}\r\n","module.exports = \"input {\\n  margin-top: 11px;\\n  margin-left: 18%;\\n}\\n\\n#myGrid {\\n  border: 1px solid;\\n}\\n\\n#submitbtn {\\n  --background:#6252ee !important;\\n}\\n\\n.cardCenter {\\n  width: 70vw;\\n  display: grid;\\n  height: 20%;\\n  place-content: center;\\n}\\n\\n.uploaderRow {\\n  padding: 8px;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVsYXItYXBwbGljYXRpb24vc3RvY2stdXBsb2FkZXIvRDpcXEFUUy1Gcm9udGVuZC1XZWItR2l0L3NyY1xcYXBwXFxkZWxhci1hcHBsaWNhdGlvblxcc3RvY2stdXBsb2FkZXJcXHN0b2NrLXVwbG9hZGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZGVsYXItYXBwbGljYXRpb24vc3RvY2stdXBsb2FkZXIvc3RvY2stdXBsb2FkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0NGOztBRENBO0VBQ0UsaUJBQUE7QUNFRjs7QURBQTtFQUNFLCtCQUFBO0FDR0Y7O0FEREE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtBQ0lGOztBREZBO0VBQ0UsWUFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDS0YiLCJmaWxlIjoic3JjL2FwcC9kZWxhci1hcHBsaWNhdGlvbi9zdG9jay11cGxvYWRlci9zdG9jay11cGxvYWRlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbnB1dHtcclxuICBtYXJnaW4tdG9wOjExcHg7XHJcbiAgbWFyZ2luLWxlZnQ6IDE4JTtcclxufVxyXG4jbXlHcmlke1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkO1xyXG59IFxyXG4jc3VibWl0YnRue1xyXG4gIC0tYmFja2dyb3VuZDojNjI1MmVlICFpbXBvcnRhbnQ7XHJcbn1cclxuLmNhcmRDZW50ZXJ7XHJcbiAgd2lkdGg6IDcwdnc7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBoZWlnaHQ6IDIwJTtcclxuICBwbGFjZS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuLnVwbG9hZGVyUm93e1xyXG4gIHBhZGRpbmc6IDhweDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59IiwiaW5wdXQge1xuICBtYXJnaW4tdG9wOiAxMXB4O1xuICBtYXJnaW4tbGVmdDogMTglO1xufVxuXG4jbXlHcmlkIHtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG59XG5cbiNzdWJtaXRidG4ge1xuICAtLWJhY2tncm91bmQ6IzYyNTJlZSAhaW1wb3J0YW50O1xufVxuXG4uY2FyZENlbnRlciB7XG4gIHdpZHRoOiA3MHZ3O1xuICBkaXNwbGF5OiBncmlkO1xuICBoZWlnaHQ6IDIwJTtcbiAgcGxhY2UtY29udGVudDogY2VudGVyO1xufVxuXG4udXBsb2FkZXJSb3cge1xuICBwYWRkaW5nOiA4cHg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { AjaxService } from \"../../services/ajax.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { CommonService } from \"../../services/common.service\";\r\nimport { serverUrl } from \"src/environments/environment\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { jqxGridComponent } from \"jqwidgets-ng/jqxgrid\";\r\nimport { ModalController } from \"@ionic/angular\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\n@Component({\r\n  selector: \"app-stock-uploader\",\r\n  templateUrl: \"./stock-uploader.page.html\",\r\n  styleUrls: [\"./stock-uploader.page.scss\"],\r\n})\r\nexport class StockUploaderPage implements OnInit {\r\n  stockform: FormGroup;\r\n  source: { localdata: any };\r\n  dataAdapter: any;\r\n  renderer: (row: number, column: any, value: string) => string;\r\n  @ViewChild(\"myGrid\", { static: false }) myGrid: jqxGridComponent;\r\n  columns: any;\r\n  name: boolean = false;\r\n  willDownload = false;\r\n  dataString: any;\r\n  output = \"\";\r\n  file;\r\n  tableData: any;\r\n  show: boolean = false;\r\n  imeiIssues = [];\r\n  excellKeyValid: boolean = false;\r\n\r\n  constructor(\r\n    private ajaxService: AjaxService,\r\n    private router: Router,\r\n    private commonService: CommonService,\r\n    private modalController: ModalController,\r\n    private formBuilder: FormBuilder\r\n  ) {}\r\n\r\n  clear() {\r\n    this.stockform.patchValue({\r\n      fileupload: \"\",\r\n    });\r\n  }\r\n  reset() {\r\n    this.stockform.patchValue({\r\n      fileupload: \"\",\r\n    });\r\n    this.show = false;\r\n  }\r\n\r\n  onFileChange(ev) {\r\n    this.show = false;\r\n    var fileName = ev.srcElement.files[0];\r\n    this.name = fileName.name.includes(\".xlsx\");\r\n    if (this.name == true) {\r\n      this.show = false;\r\n      this.dataString = [];\r\n      let workBook = null;\r\n      let jsonData = null;\r\n      const reader = new FileReader();\r\n      const file = ev.srcElement.files[0];\r\n      reader.onload = (event) => {\r\n        const data = reader.result;\r\n        workBook = XLSX.read(data, { type: \"binary\" });\r\n        jsonData = workBook.SheetNames.reduce((initial, name) => {\r\n          const sheet = workBook.Sheets[name];\r\n          initial[name] = XLSX.utils.sheet_to_json(sheet);\r\n          return initial;\r\n        }, {});\r\n        let json = [];\r\n        for (let i = 0; i < jsonData[\"Sheet1\"].length; i++) {\r\n          jsonData[\"Sheet1\"][i][\"IMEI_NO\"] =\r\n            jsonData[\"Sheet1\"][i][\"IMEI_NO\"].toString();\r\n          jsonData[\"Sheet1\"][i][\"SIM_NO\"] =\r\n            jsonData[\"Sheet1\"][i][\"SIM_NO\"].toString();\r\n          jsonData[\"Sheet1\"][i][\"SIM_NO2\"] =\r\n            jsonData[\"Sheet1\"][i][\"SIM_NO2\"] + \"\";\r\n          jsonData[\"Sheet1\"][i][\"PROVIDER\"] =\r\n            jsonData[\"Sheet1\"][i][\"PROVIDER\"].toString();\r\n          jsonData[\"Sheet1\"][i][\"PROVIDER2\"] =\r\n            jsonData[\"Sheet1\"][i][\"PROVIDER2\"] + \"\";\r\n          jsonData[\"Sheet1\"][i][\"MANUFACTURE\"] =\r\n            jsonData[\"Sheet1\"][i][\"MANUFACTURE\"].toString();\r\n          jsonData[\"Sheet1\"][i][\"DEALER_ID\"] =\r\n            jsonData[\"Sheet1\"][i][\"DEALER_ID\"] + \"\";\r\n          json.push(jsonData[\"Sheet1\"][i]);\r\n        }\r\n        this.dataString = json;\r\n        this.output = this.dataString.slice(0, 300).concat(\"...\");\r\n        // this.sendToServer(dataString);\r\n      };\r\n      reader.readAsBinaryString(file);\r\n    } else {\r\n      this.commonService.showConfirm(\"Please insert only excel file (.xlsx)\");\r\n    }\r\n  }\r\n\r\n  sendToServer() {\r\n    // checking excell keys is valid or not\r\n    if (this.dataString.length == 0) {\r\n      this.commonService.showConfirm(\r\n        \"Check your excell file,don't enter blank spaces\"\r\n      );\r\n    } else {\r\n      var excellKeys = Object.keys(this.dataString[0]);\r\n      for (var i = 0; i < excellKeys.length; i++) {\r\n        if (excellKeys[i] == \"IMEI_NO\" || excellKeys[i] == \"MODEL\") {\r\n          console.log(\"present\");\r\n          this.excellKeyValid = true;\r\n        }\r\n      }\r\n      if (this.name == true && this.excellKeyValid == true) {\r\n        this.imeiIssues = [];\r\n        this.willDownload = true;\r\n        // let url =\"http://localhost:8090/Web/api/vts/comp/inventory\";\r\n        const url = serverUrl.web + \"/global/comp/inventory\";\r\n        // const data = [];\r\n        // data.push(this.dataString[\"Sheet1\"]);\r\n        this.ajaxService\r\n          .ajaxPostWithBody(url, this.dataString)\r\n          .subscribe((res) => {\r\n            console.log(res);\r\n            res == \"[]\"\r\n              ? this.commonService.showConfirm(\r\n                  \"Please insert a value excell file only\"\r\n                )\r\n              : this.commonService.showConfirm(\"uploaded\");\r\n            var resDatas = res;\r\n            for (var i = 0; i < resDatas.length; i++) {\r\n              var data = \"\";\r\n              data += Object.values(resDatas[i]);\r\n              if (data != \"Device Persisted\") {\r\n                this.imeiIssues.push({\r\n                  imei: Object.keys(resDatas[i]),\r\n                  issue: Object.values(resDatas[i]),\r\n                });\r\n              }\r\n            }\r\n            if (this.imeiIssues.length > 0) {\r\n              this.show = true;\r\n              this.source.localdata = this.imeiIssues;\r\n              // this.source.localdata = [{imei:\"121212121212121\",issue:\"PROVIDER is Missing\"}];\r\n\r\n              this.clear();\r\n              this.myGrid.updatebounddata();\r\n            }\r\n          });\r\n      } else {\r\n        this.commonService.showConfirm(\r\n          \"Please insert valid excel file (.xlsx)\"\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getDatas() {\r\n    this.renderer = (row: number, column: any, value: string) => {\r\n      if (value == \"\" || null || undefined || value == \",\") {\r\n        return \"---\";\r\n      } else {\r\n        return (\r\n          '<span  style=\"line-height:32px;font-size:11px;color:darkblue;margin:auto;padding:0px 5px\">' +\r\n          value +\r\n          \"</span>\"\r\n        );\r\n      }\r\n    };\r\n    this.source = { localdata: this.tableData };\r\n    this.dataAdapter = new jqx.dataAdapter(this.source);\r\n    this.columns = [\r\n      // { text: \"IMEI\", datafield: \"imei\", cellsrenderer: this.renderer },\r\n      // {text :'Operator',datafield:'operatorName',cellsrenderer:this.renderer},\r\n      // { text: \"ISSUE\", datafield: \"issue\", cellsrenderer: this.renderer },\r\n      // {text :'Serial No',datafield:'serialNo',cellsrenderer:this.renderer},\r\n      {\r\n        text: \"IMEI\",\r\n        datafield: \"imei\",\r\n        cellsrenderer: this.renderer,\r\n        cellsalign: \"center\",\r\n        align: \"center\",\r\n      },\r\n      {\r\n        text: \"ISSUE\",\r\n        datafield: \"issue\",\r\n        cellsrenderer: this.renderer,\r\n        cellsalign: \"center\",\r\n        align: \"center\",\r\n      },\r\n    ];\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.getDatas();\r\n    this.show = false;\r\n    this.clear;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.stockform = this.formBuilder.group({\r\n      fileupload: [\"\", Validators.required],\r\n    });\r\n    this.getDatas();\r\n  }\r\n}\r\n"],"sourceRoot":""}